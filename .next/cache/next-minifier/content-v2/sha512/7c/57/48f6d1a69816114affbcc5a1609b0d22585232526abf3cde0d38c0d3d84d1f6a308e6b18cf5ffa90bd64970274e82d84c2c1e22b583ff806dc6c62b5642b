{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{\"/0+H\":function(t,e,n){\"use strict\";e.__esModule=!0,e.isInAmpMode=c,e.useAmp=function(){return c(a.default.useContext(o.AmpStateContext))};var r,a=(r=n(\"q1tI\"))&&r.__esModule?r:{default:r},o=n(\"lwAK\");function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.ampFirst,n=void 0!==e&&e,r=t.hybrid,a=void 0!==r&&r,o=t.hasQuery,c=void 0!==o&&o;return n||a&&c}},\"7W2i\":function(t,e,n){var r=n(\"SksO\");t.exports=function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},\"8Kt/\":function(t,e,n){\"use strict\";n(\"lSNA\");e.__esModule=!0,e.defaultHead=f,e.default=void 0;var r,a=function(t){if(t&&t.__esModule)return t;if(null===t||\"object\"!==typeof t&&\"function\"!==typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var o=r?Object.getOwnPropertyDescriptor(t,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=t[a]}n.default=t,e&&e.set(t,n);return n}(n(\"q1tI\")),o=(r=n(\"Xuae\"))&&r.__esModule?r:{default:r},c=n(\"lwAK\"),u=n(\"FYa8\"),i=n(\"/0+H\");function s(){if(\"function\"!==typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function f(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=[a.default.createElement(\"meta\",{charSet:\"utf-8\"})];return t||e.push(a.default.createElement(\"meta\",{name:\"viewport\",content:\"width=device-width\"})),e}function d(t,e){return\"string\"===typeof e||\"number\"===typeof e?t:e.type===a.default.Fragment?t.concat(a.default.Children.toArray(e.props.children).reduce((function(t,e){return\"string\"===typeof e||\"number\"===typeof e?t:t.concat(e)}),[])):t.concat(e)}var p=[\"name\",\"httpEquiv\",\"charSet\",\"itemProp\"];function l(t,e){return t.reduce((function(t,e){var n=a.default.Children.toArray(e.props.children);return t.concat(n)}),[]).reduce(d,[]).reverse().concat(f(e.inAmpMode)).filter(function(){var t=new Set,e=new Set,n=new Set,r={};return function(a){var o=!0;if(a.key&&\"number\"!==typeof a.key&&a.key.indexOf(\"$\")>0){var c=a.key.slice(a.key.indexOf(\"$\")+1);t.has(c)?o=!1:t.add(c)}switch(a.type){case\"title\":case\"base\":e.has(a.type)?o=!1:e.add(a.type);break;case\"meta\":for(var u=0,i=p.length;u<i;u++){var s=p[u];if(a.props.hasOwnProperty(s))if(\"charSet\"===s)n.has(s)?o=!1:n.add(s);else{var f=a.props[s],d=r[s]||new Set;d.has(f)?o=!1:(d.add(f),r[s]=d)}}}return o}}()).reverse().map((function(t,e){var n=t.key||e;return a.default.cloneElement(t,{key:n})}))}function y(t){var e=t.children,n=(0,a.useContext)(c.AmpStateContext),r=(0,a.useContext)(u.HeadManagerContext);return a.default.createElement(o.default,{reduceComponentsToState:l,headManager:r,inAmpMode:(0,i.isInAmpMode)(n)},e)}y.rewind=function(){};var h=y;e.default=h},\"8r/Q\":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/product/[id]\",function(){return n(\"PZbu\")}])},Bnag:function(t,e){t.exports=function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}},EFaQ:function(t,e,n){\"use strict\";n.d(e,\"b\",(function(){return u})),n.d(e,\"d\",(function(){return i})),n.d(e,\"e\",(function(){return s})),n.d(e,\"c\",(function(){return f})),n.d(e,\"a\",(function(){return d}));var r=n(\"o0o1\"),a=n.n(r),o=n(\"HaE+\"),c=\"http://localhost:3000\",u=function(){var t=Object(o.a)(a.a.mark((function t(e,n){var r,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(\"\".concat(c,\"/api/\").concat(e),{method:\"GET\",headers:{Authorization:n}});case 2:return r=t.sent,t.next=5,r.json();case 5:return o=t.sent,t.abrupt(\"return\",o);case 7:case\"end\":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),i=function(){var t=Object(o.a)(a.a.mark((function t(e,n,r){var o,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(\"\".concat(c,\"/api/\").concat(e),{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:r},body:JSON.stringify(n)});case 2:return o=t.sent,t.next=5,o.json();case 5:return u=t.sent,t.abrupt(\"return\",u);case 7:case\"end\":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),s=function(){var t=Object(o.a)(a.a.mark((function t(e,n,r){var o,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(\"\".concat(c,\"/api/\").concat(e),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\",Authorization:r},body:JSON.stringify(n)});case 2:return o=t.sent,t.next=5,o.json();case 5:return u=t.sent,t.abrupt(\"return\",u);case 7:case\"end\":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),f=function(){var t=Object(o.a)(a.a.mark((function t(e,n,r){var o,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(\"\".concat(c,\"/api/\").concat(e),{method:\"PATCH\",headers:{\"Content-Type\":\"application/json\",Authorization:r},body:JSON.stringify(n)});case 2:return o=t.sent,t.next=5,o.json();case 5:return u=t.sent,t.abrupt(\"return\",u);case 7:case\"end\":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),d=function(){var t=Object(o.a)(a.a.mark((function t(e,n){var r,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(\"\".concat(c,\"/api/\").concat(e),{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\",Authorization:n}});case 2:return r=t.sent,t.next=5,r.json();case 5:return o=t.sent,t.abrupt(\"return\",o);case 7:case\"end\":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},EbDI:function(t,e){t.exports=function(t){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},FYa8:function(t,e,n){\"use strict\";var r;e.__esModule=!0,e.HeadManagerContext=void 0;var a=((r=n(\"q1tI\"))&&r.__esModule?r:{default:r}).default.createContext({});e.HeadManagerContext=a},\"HaE+\":function(t,e,n){\"use strict\";function r(t,e,n,r,a,o,c){try{var u=t[o](c),i=u.value}catch(s){return void n(s)}u.done?e(i):Promise.resolve(i).then(r,a)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(a,o){var c=t.apply(e,n);function u(t){r(c,a,o,u,i,\"next\",t)}function i(t){r(c,a,o,u,i,\"throw\",t)}u(void 0)}))}}n.d(e,\"a\",(function(){return a}))},Ijbi:function(t,e,n){var r=n(\"WkPL\");t.exports=function(t){if(Array.isArray(t))return r(t)}},KQm4:function(t,e,n){\"use strict\";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}n.d(e,\"a\",(function(){return a}))},Nsbk:function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},PJYZ:function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}},PZbu:function(t,e,n){\"use strict\";n.r(e),n.d(e,\"__N_SSP\",(function(){return s}));var r=n(\"nKUr\"),a=n(\"8Kt/\"),o=n.n(a),c=n(\"q1tI\"),u=n(\"qG/y\"),i=n(\"WtUO\"),s=!0;e.default=function(t){var e=Object(c.useState)(t.product)[0],n=Object(c.useState)(0),a=n[0],s=n[1],f=Object(c.useContext)(u.a),d=f.state,p=f.dispatch,l=d.cart,y=function(t){return a===t?\" active\":\"\"};return Object(r.jsxs)(\"div\",{className:\"row detail_page\",children:[Object(r.jsx)(o.a,{children:Object(r.jsx)(\"title\",{children:\"Detail Product\"})}),Object(r.jsxs)(\"div\",{className:\"col-md-6\",children:[Object(r.jsx)(\"img\",{src:e.images[a].url,alt:e.images[a].url,className:\"d-block img-thumbnail rounded mt-4 w-100\",style:{height:\"350px\"}}),Object(r.jsx)(\"div\",{className:\"row mx-0\",style:{cursor:\"pointer\"},children:e.images.map((function(t,e){return Object(r.jsx)(\"img\",{src:t.url,alt:t.url,className:\"img-thumbnail rounded \".concat(y(e)),style:{height:\"80px\",width:\"20%\"},onClick:function(){return s(e)}},e)}))})]}),Object(r.jsxs)(\"div\",{className:\"col-md-6 mt-3\",children:[Object(r.jsx)(\"h2\",{className:\"text-uppercase\",children:e.title}),Object(r.jsxs)(\"h5\",{className:\"text-danger\",children:[\"\\u20b9\",e.price]}),Object(r.jsxs)(\"div\",{className:\"row mx-0 d-flex justify-content-between\",children:[e.inStock>0?Object(r.jsxs)(\"h6\",{className:\"text-danger\",children:[\"In Stock: \",e.inStock]}):Object(r.jsx)(\"h6\",{className:\"text-danger\",children:\"Out Stock\"}),Object(r.jsxs)(\"h6\",{className:\"text-danger\",children:[\"Sold: \",e.sold]})]}),Object(r.jsx)(\"div\",{className:\"my-2\",children:e.description}),Object(r.jsx)(\"div\",{className:\"my-2\",children:e.content}),Object(r.jsx)(\"button\",{type:\"button\",className:\"btn btn-dark d-block my-3 px-5\",onClick:function(){return p(Object(i.b)(e,l))},children:\"Buy\"})]})]})}},RIqP:function(t,e,n){var r=n(\"Ijbi\"),a=n(\"EbDI\"),o=n(\"ZhPi\"),c=n(\"Bnag\");t.exports=function(t){return r(t)||a(t)||o(t)||c()}},WtUO:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return u})),n.d(e,\"b\",(function(){return i})),n.d(e,\"c\",(function(){return s})),n.d(e,\"e\",(function(){return f})),n.d(e,\"d\",(function(){return d})),n.d(e,\"f\",(function(){return p}));var r=n(\"rePB\"),a=n(\"KQm4\");function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u={NOTIFY:\"NOTIFY\",AUTH:\"AUTH\",ADD_CART:\"ADD_CART\",ADD_MODAL:\"ADD_MODAL\",ADD_ORDERS:\"ADD_ORDERS\",ADD_USERS:\"ADD_USERS\",ADD_CATEGORIES:\"ADD_CATEGORIES\"},i=function(t,e){return 0===t.inStock?{type:\"NOTIFY\",payload:{error:\"This product is out of stock.\"}}:e.every((function(e){return e._id!==t._id}))?{type:\"ADD_CART\",payload:[].concat(Object(a.a)(e),[c(c({},t),{},{quantity:1})])}:{type:\"NOTIFY\",payload:{error:\"The product has been added to cart.\"}}},s=function(t,e){var n=Object(a.a)(t);return n.forEach((function(t){t._id===e&&(t.quantity-=1)})),{type:\"ADD_CART\",payload:n}},f=function(t,e){var n=Object(a.a)(t);return n.forEach((function(t){t._id===e&&(t.quantity+=1)})),{type:\"ADD_CART\",payload:n}},d=function(t,e,n){return{type:n,payload:t.filter((function(t){return t._id!==e}))}},p=function(t,e,n,r){return{type:r,payload:t.map((function(t){return t._id===e?n:t}))}}},Xuae:function(t,e,n){\"use strict\";var r=n(\"RIqP\"),a=n(\"lwsE\"),o=n(\"W8MJ\"),c=(n(\"PJYZ\"),n(\"7W2i\")),u=n(\"a1gu\"),i=n(\"Nsbk\");function s(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=i(t);if(e){var a=i(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u(this,n)}}e.__esModule=!0,e.default=void 0;var f=n(\"q1tI\"),d=function(t){c(n,t);var e=s(n);function n(t){var o;return a(this,n),(o=e.call(this,t))._hasHeadManager=void 0,o.emitChange=function(){o._hasHeadManager&&o.props.headManager.updateHead(o.props.reduceComponentsToState(r(o.props.headManager.mountedInstances),o.props))},o._hasHeadManager=o.props.headManager&&o.props.headManager.mountedInstances,o}return o(n,[{key:\"componentDidMount\",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.add(this),this.emitChange()}},{key:\"componentDidUpdate\",value:function(){this.emitChange()}},{key:\"componentWillUnmount\",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.delete(this),this.emitChange()}},{key:\"render\",value:function(){return null}}]),n}(f.Component);e.default=d},a1gu:function(t,e,n){var r=n(\"cDf5\"),a=n(\"PJYZ\");t.exports=function(t,e){return!e||\"object\"!==r(e)&&\"function\"!==typeof e?a(t):e}},lSNA:function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},lwAK:function(t,e,n){\"use strict\";var r;e.__esModule=!0,e.AmpStateContext=void 0;var a=((r=n(\"q1tI\"))&&r.__esModule?r:{default:r}).default.createContext({});e.AmpStateContext=a},\"qG/y\":function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return d})),n.d(e,\"b\",(function(){return p}));var r=n(\"nKUr\"),a=n(\"q1tI\"),o=n(\"rePB\"),c=n(\"WtUO\");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var s=function(t,e){switch(e.type){case c.a.NOTIFY:return i(i({},t),{},{notify:e.payload});case c.a.AUTH:return i(i({},t),{},{auth:e.payload});case c.a.ADD_CART:return i(i({},t),{},{cart:e.payload});case c.a.ADD_MODAL:return i(i({},t),{},{modal:e.payload});case c.a.ADD_ORDERS:return i(i({},t),{},{orders:e.payload});case c.a.ADD_USERS:return i(i({},t),{},{users:e.payload});case c.a.ADD_CATEGORIES:return i(i({},t),{},{categories:e.payload});default:return t}},f=n(\"EFaQ\"),d=Object(a.createContext)(),p=function(t){var e=t.children,n=Object(a.useReducer)(s,{notify:{},auth:{},cart:[],modal:[],orders:[],users:[],categories:[]}),o=n[0],c=n[1],u=o.cart,i=o.auth;return Object(a.useEffect)((function(){localStorage.getItem(\"firstLogin\")&&Object(f.b)(\"auth/accessToken\").then((function(t){if(t.err)return localStorage.removeItem(\"firstLogin\");c({type:\"AUTH\",payload:{token:t.access_token,user:t.user}})})),Object(f.b)(\"categories\").then((function(t){if(t.err)return c({type:\"NOTIFY\",payload:{error:t.err}});c({type:\"ADD_CATEGORIES\",payload:t.categories})}))}),[]),Object(a.useEffect)((function(){var t=JSON.parse(localStorage.getItem(\"__next__cart01__devat\"));t&&c({type:\"ADD_CART\",payload:t})}),[]),Object(a.useEffect)((function(){localStorage.setItem(\"__next__cart01__devat\",JSON.stringify(u))}),[u]),Object(a.useEffect)((function(){i.token?(Object(f.b)(\"order\",i.token).then((function(t){if(t.err)return c({type:\"NOTIFY\",payload:{error:t.err}});c({type:\"ADD_ORDERS\",payload:t.orders})})),\"admin\"===i.user.role&&Object(f.b)(\"user\",i.token).then((function(t){if(t.err)return c({type:\"NOTIFY\",payload:{error:t.err}});c({type:\"ADD_USERS\",payload:t.users})}))):(c({type:\"ADD_ORDERS\",payload:[]}),c({type:\"ADD_USERS\",payload:[]}))}),[i.token]),Object(r.jsx)(d.Provider,{value:{state:o,dispatch:c},children:e})}},rePB:function(t,e,n){\"use strict\";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,\"a\",(function(){return r}))}},[[\"8r/Q\",0,2,1]]]);","extractedComments":[]}