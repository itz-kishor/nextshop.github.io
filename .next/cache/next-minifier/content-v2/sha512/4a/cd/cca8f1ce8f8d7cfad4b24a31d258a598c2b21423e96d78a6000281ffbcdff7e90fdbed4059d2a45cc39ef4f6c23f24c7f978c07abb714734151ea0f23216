{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[12],{\"/0+H\":function(e,t,n){\"use strict\";t.__esModule=!0,t.isInAmpMode=o,t.useAmp=function(){return o(r.default.useContext(c.AmpStateContext))};var a,r=(a=n(\"q1tI\"))&&a.__esModule?a:{default:a},c=n(\"lwAK\");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ampFirst,n=void 0!==t&&t,a=e.hybrid,r=void 0!==a&&a,c=e.hasQuery,o=void 0!==c&&c;return n||r&&o}},\"8Kt/\":function(e,t,n){\"use strict\";n(\"lSNA\");t.__esModule=!0,t.defaultHead=l,t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!==typeof e&&\"function\"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var c=a?Object.getOwnPropertyDescriptor(e,r):null;c&&(c.get||c.set)?Object.defineProperty(n,r,c):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(\"q1tI\")),c=(a=n(\"Xuae\"))&&a.__esModule?a:{default:a},o=n(\"lwAK\"),i=n(\"FYa8\"),s=n(\"/0+H\");function u(){if(\"function\"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function l(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[r.default.createElement(\"meta\",{charSet:\"utf-8\"})];return e||t.push(r.default.createElement(\"meta\",{name:\"viewport\",content:\"width=device-width\"})),t}function d(e,t){return\"string\"===typeof t||\"number\"===typeof t?e:t.type===r.default.Fragment?e.concat(r.default.Children.toArray(t.props.children).reduce((function(e,t){return\"string\"===typeof t||\"number\"===typeof t?e:e.concat(t)}),[])):e.concat(t)}var p=[\"name\",\"httpEquiv\",\"charSet\",\"itemProp\"];function f(e,t){return e.reduce((function(e,t){var n=r.default.Children.toArray(t.props.children);return e.concat(n)}),[]).reduce(d,[]).reverse().concat(l(t.inAmpMode)).filter(function(){var e=new Set,t=new Set,n=new Set,a={};return function(r){var c=!0;if(r.key&&\"number\"!==typeof r.key&&r.key.indexOf(\"$\")>0){var o=r.key.slice(r.key.indexOf(\"$\")+1);e.has(o)?c=!1:e.add(o)}switch(r.type){case\"title\":case\"base\":t.has(r.type)?c=!1:t.add(r.type);break;case\"meta\":for(var i=0,s=p.length;i<s;i++){var u=p[i];if(r.props.hasOwnProperty(u))if(\"charSet\"===u)n.has(u)?c=!1:n.add(u);else{var l=r.props[u],d=a[u]||new Set;d.has(l)?c=!1:(d.add(l),a[u]=d)}}}return c}}()).reverse().map((function(e,t){var n=e.key||t;return r.default.cloneElement(e,{key:n})}))}function h(e){var t=e.children,n=(0,r.useContext)(o.AmpStateContext),a=(0,r.useContext)(i.HeadManagerContext);return r.default.createElement(c.default,{reduceComponentsToState:f,headManager:a,inAmpMode:(0,s.isInAmpMode)(n)},t)}h.rewind=function(){};var m=h;t.default=m},Bnag:function(e,t){e.exports=function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}},EbDI:function(e,t){e.exports=function(e){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},Ijbi:function(e,t,n){var a=n(\"WkPL\");e.exports=function(e){if(Array.isArray(e))return a(e)}},RIqP:function(e,t,n){var a=n(\"Ijbi\"),r=n(\"EbDI\"),c=n(\"ZhPi\"),o=n(\"Bnag\");e.exports=function(e){return a(e)||r(e)||c(e)||o()}},RNiq:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"__N_SSP\",(function(){return b}));var a=n(\"KQm4\"),r=n(\"nKUr\"),c=n(\"8Kt/\"),o=n.n(c),i=n(\"q1tI\"),s=n(\"qG/y\"),u=n(\"YFqc\"),l=n.n(u),d=n(\"WtUO\"),p=function(e){var t=e.product,n=e.handleCheck,a=Object(i.useContext)(s.a),c=a.state,o=a.dispatch,u=c.cart,p=c.auth;return Object(r.jsxs)(\"div\",{className:\"card\",style:{width:\"18rem\"},children:[p.user&&\"admin\"===p.user.role&&Object(r.jsx)(\"input\",{type:\"checkbox\",checked:t.checked,className:\"position-absolute\",style:{height:\"20px\",width:\"20px\"},onChange:function(){return n(t._id)}}),Object(r.jsx)(\"img\",{className:\"card-img-top\",src:t.images[0].url,alt:t.images[0].url}),Object(r.jsxs)(\"div\",{className:\"card-body\",children:[Object(r.jsx)(\"h5\",{className:\"card-title text-capitalize\",title:t.title,children:t.title}),Object(r.jsxs)(\"div\",{className:\"row justify-content-between mx-0\",children:[Object(r.jsxs)(\"h6\",{className:\"text-danger\",children:[\"\\u20b9\",t.price]}),t.inStock>0?Object(r.jsxs)(\"h6\",{className:\"text-danger\",children:[\"In Stock: \",t.inStock]}):Object(r.jsx)(\"h6\",{className:\"text-danger\",children:\"Out Stock\"})]}),Object(r.jsx)(\"p\",{className:\"card-text\",title:t.description,children:t.description}),Object(r.jsx)(\"div\",{className:\"row justify-content-between mx-0\",children:p.user&&\"admin\"===p.user.role?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(l.a,{href:\"create/\".concat(t._id),children:Object(r.jsx)(\"a\",{className:\"btn btn-info\",style:{marginRight:\"5px\",flex:1},children:\"Edit\"})}),Object(r.jsx)(\"button\",{className:\"btn btn-danger\",style:{marginLeft:\"5px\",flex:1},\"data-toggle\":\"modal\",\"data-target\":\"#exampleModal\",onClick:function(){return o({type:\"ADD_MODAL\",payload:[{data:\"\",id:t._id,title:t.title,type:\"DELETE_PRODUCT\"}]})},children:\"Delete\"})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(l.a,{href:\"product/\".concat(t._id),children:Object(r.jsx)(\"a\",{className:\"btn btn-info\",style:{marginRight:\"5px\",flex:1},children:\"View\"})}),Object(r.jsx)(\"button\",{className:\"btn btn-success\",style:{marginLeft:\"5px\",flex:1},disabled:0===t.inStock,onClick:function(){return o(Object(d.b)(t,u))},children:\"Add TO cart\"})]})})]})]})},f=function(e){var t=e.router,n=e.page,a=e.category,r=e.sort,c=e.search,o=t.pathname,i=t.query;a&&(i.category=a),n&&(i.page=n),c&&(i.search=c),r&&(i.sort=r),t.push({pathname:o,query:i})},h=n(\"nOHt\"),m=(n(\"EFaQ\"),function(e){var t=e.state,n=Object(i.useState)(\"\"),a=n[0],c=n[1],o=Object(i.useState)(\"\"),s=o[0],u=o[1],l=Object(i.useState)(\"\"),d=l[0],p=l[1],m=t.categories,b=Object(h.useRouter)();return Object(i.useEffect)((function(){f({router:b,search:a?a.toLowerCase():\"all\"})}),[a]),Object(r.jsxs)(\"div\",{className:\"input-group\",children:[Object(r.jsx)(\"div\",{className:\"input-group-prepend col-md-2 px-0 mt-2\",children:Object(r.jsxs)(\"select\",{className:\"custom-select text-capitalize\",value:d,onChange:function(e){p(e.target.value),f({router:b,category:e.target.value})},children:[Object(r.jsx)(\"option\",{value:\"all\",children:\"All Products\"}),m.map((function(e){return Object(r.jsx)(\"option\",{value:e._id,children:e.name},e._id)}))]})}),Object(r.jsx)(\"form\",{autoComplete:\"off\",className:\"mt-2 col-md-8 px-0\",children:Object(r.jsx)(\"input\",{type:\"text\",className:\"form-control\",list:\"title_product\",value:a.toLowerCase(),onChange:function(e){return c(e.target.value)}})}),Object(r.jsx)(\"div\",{className:\"input-group-prepend col-md-2 px-0 mt-2\",children:Object(r.jsxs)(\"select\",{className:\"custom-select text-capitalize\",value:s,onChange:function(e){u(e.target.value),f({router:b,sort:e.target.value})},children:[Object(r.jsx)(\"option\",{value:\"-createdAt\",children:\"Newest\"}),Object(r.jsx)(\"option\",{value:\"oldest\",children:\"Oldest\"}),Object(r.jsx)(\"option\",{value:\"-sold\",children:\"Best sales\"}),Object(r.jsx)(\"option\",{value:\"-price\",children:\"Price: Hight-Low\"}),Object(r.jsx)(\"option\",{value:\"price\",children:\"Price: Low-Hight\"})]})})]})}),b=!0;t.default=function(e){var t=Object(i.useState)(e.products),n=t[0],c=t[1],u=Object(i.useState)(!1),l=u[0],d=u[1],b=Object(i.useState)(1),j=b[0],x=b[1],v=Object(h.useRouter)(),g=Object(i.useContext)(s.a),O=g.state,y=g.dispatch,_=O.auth;Object(i.useEffect)((function(){c(e.products)}),[e.products]),Object(i.useEffect)((function(){0===Object.keys(v.query).length&&x(1)}),[v.query]);var w=function(e){n.forEach((function(t){t._id===e&&(t.checked=!t.checked)})),c(Object(a.a)(n))};return Object(r.jsxs)(\"div\",{className:\"home_page\",children:[Object(r.jsx)(o.a,{children:Object(r.jsx)(\"title\",{children:\"Home Page\"})}),Object(r.jsx)(m,{state:O}),_.user&&\"admin\"===_.user.role&&Object(r.jsxs)(\"div\",{className:\"delete_all btn btn-danger mt-2\",style:{marginBottom:\"-10px\"},children:[Object(r.jsx)(\"input\",{type:\"checkbox\",checked:l,onChange:function(){n.forEach((function(e){return e.checked=!l})),c(Object(a.a)(n)),d(!l)},style:{width:\"25px\",height:\"25px\",transform:\"translateY(8px)\"}}),Object(r.jsx)(\"button\",{className:\"btn btn-danger ml-2\",\"data-toggle\":\"modal\",\"data-target\":\"#exampleModal\",onClick:function(){var e=[];n.forEach((function(t){t.checked&&e.push({data:\"\",id:t._id,title:\"Delete all selected products?\",type:\"DELETE_PRODUCT\"})})),y({type:\"ADD_MODAL\",payload:e})},children:\"DELETE ALL\"})]}),Object(r.jsx)(\"div\",{className:\"products\",children:0===n.length?Object(r.jsx)(\"h2\",{children:\"No Products\"}):n.map((function(e){return Object(r.jsx)(p,{product:e,handleCheck:w},e._id)}))}),e.result<6*j?\"\":Object(r.jsx)(\"button\",{className:\"btn btn-outline-info d-block mx-auto mb-4\",onClick:function(){x(j+1),f({router:v,page:j+1})},children:\"Load more\"})]})}},Xuae:function(e,t,n){\"use strict\";var a=n(\"RIqP\"),r=n(\"lwsE\"),c=n(\"W8MJ\"),o=(n(\"PJYZ\"),n(\"7W2i\")),i=n(\"a1gu\"),s=n(\"Nsbk\");function u(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=s(e);if(t){var r=s(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return i(this,n)}}t.__esModule=!0,t.default=void 0;var l=n(\"q1tI\"),d=function(e){o(n,e);var t=u(n);function n(e){var c;return r(this,n),(c=t.call(this,e))._hasHeadManager=void 0,c.emitChange=function(){c._hasHeadManager&&c.props.headManager.updateHead(c.props.reduceComponentsToState(a(c.props.headManager.mountedInstances),c.props))},c._hasHeadManager=c.props.headManager&&c.props.headManager.mountedInstances,c}return c(n,[{key:\"componentDidMount\",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.add(this),this.emitChange()}},{key:\"componentDidUpdate\",value:function(){this.emitChange()}},{key:\"componentWillUnmount\",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.delete(this),this.emitChange()}},{key:\"render\",value:function(){return null}}]),n}(l.Component);t.default=d},lSNA:function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},lwAK:function(e,t,n){\"use strict\";var a;t.__esModule=!0,t.AmpStateContext=void 0;var r=((a=n(\"q1tI\"))&&a.__esModule?a:{default:a}).default.createContext({});t.AmpStateContext=r},vlRD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return n(\"RNiq\")}])}},[[\"vlRD\",0,2,1,3,4]]]);","extractedComments":[]}