{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[6],{0:function(e,t,n){n(\"GcxT\"),e.exports=n(\"nOHt\")},\"1TCz\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"rePB\"),a=n(\"nKUr\"),o=(n(\"zPlV\"),n(\"q1tI\")),c=n(\"YFqc\"),i=n.n(c),s=n(\"nOHt\"),l=n(\"qG/y\"),d=n(\"p46w\"),u=n.n(d);var p=function(){var e=Object(s.useRouter)(),t=Object(o.useContext)(l.a),n=t.state,r=t.dispatch,c=n.auth,d=n.cart,p=function(t){return t===e.pathname?\" active\":\"\"},b=function(){return u.a.remove(\"refreshtoken\",{path:\"api/auth/accessToken\"}),localStorage.removeItem(\"firstLogin\"),r({type:\"AUTH\",payload:{}}),r({type:\"NOTIFY\",payload:{success:\"Logged out!\"}}),e.push(\"/\")};return Object(a.jsxs)(\"nav\",{className:\"navbar navbar-expand-lg navbar-light bg-light\",children:[Object(a.jsx)(i.a,{href:\"/\",children:Object(a.jsx)(\"a\",{className:\"navbar-brand\",children:\"NextShop\"})}),Object(a.jsx)(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#navbarNavDropdown\",\"aria-controls\":\"navbarNavDropdown\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:Object(a.jsx)(\"span\",{className:\"navbar-toggler-icon\"})}),Object(a.jsx)(\"div\",{className:\"collapse navbar-collapse justify-content-end\",id:\"navbarNavDropdown\",children:Object(a.jsxs)(\"ul\",{className:\"navbar-nav p-1\",children:[Object(a.jsx)(\"li\",{className:\"nav-item\",children:Object(a.jsx)(i.a,{href:\"/cart\",children:Object(a.jsxs)(\"a\",{className:\"nav-link\"+p(\"/cart\"),children:[Object(a.jsx)(\"i\",{className:\"fas fa-shopping-cart position-relative\",\"aria-hidden\":\"true\",children:Object(a.jsx)(\"span\",{className:\"position-absolute\",style:{padding:\"3px 6px\",background:\"#ed143dc2\",borderRadius:\"50%\",top:\"-10px\",right:\"-10px\",color:\"white\",fontSize:\"14px\"},children:d.length})}),\" Cart\"]})})}),0===Object.keys(c).length?Object(a.jsx)(\"li\",{className:\"nav-item\",children:Object(a.jsx)(i.a,{href:\"/signin\",children:Object(a.jsxs)(\"a\",{className:\"nav-link\"+p(\"/signin\"),children:[Object(a.jsx)(\"i\",{className:\"fas fa-user\",\"aria-hidden\":\"true\"}),\" Sign in\"]})})}):Object(a.jsxs)(\"li\",{className:\"nav-item dropdown\",children:[Object(a.jsxs)(\"a\",{className:\"nav-link dropdown-toggle\",href:\"#\",id:\"navbarDropdownMenuLink\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\",children:[Object(a.jsx)(\"img\",{src:c.user.avatar,alt:c.user.avatar,style:{borderRadius:\"50%\",width:\"30px\",height:\"30px\",transform:\"translateY(-3px)\",marginRight:\"3px\"}}),\" \",c.user.name]}),Object(a.jsxs)(\"div\",{className:\"dropdown-menu\",\"aria-labelledby\":\"navbarDropdownMenuLink\",children:[Object(a.jsx)(i.a,{href:\"/profile\",children:Object(a.jsx)(\"a\",{className:\"dropdown-item\",children:\"Profile\"})}),\"admin\"===c.user.role&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(i.a,{href:\"/users\",children:Object(a.jsx)(\"a\",{className:\"dropdown-item\",children:\"Users\"})}),Object(a.jsx)(i.a,{href:\"/create\",children:Object(a.jsx)(\"a\",{className:\"dropdown-item\",children:\"Products\"})}),Object(a.jsx)(i.a,{href:\"/categories\",children:Object(a.jsx)(\"a\",{className:\"dropdown-item\",children:\"Categories\"})})]}),Object(a.jsx)(\"div\",{className:\"dropdown-divider\"}),Object(a.jsx)(\"button\",{className:\"dropdown-item\",onClick:b,children:\"Logout\"})]})]})]})})]})},b=function(){return Object(a.jsx)(\"div\",{className:\"position-fixed w-100 h-100 text-center loading\",style:{background:\"#0008\",color:\"white\",top:0,left:0,zIndex:9},children:Object(a.jsxs)(\"svg\",{width:\"205\",height:\"250\",viewBox:\"0 0 40 50\",children:[Object(a.jsx)(\"polygon\",{strokeWidth:\"1\",stroke:\"#fff\",fill:\"none\",points:\"20,1 40,40 1,40\"}),Object(a.jsx)(\"text\",{fill:\"#fff\",x:\"5\",y:\"47\",children:\"Loading\"})]})})},j=function(e){var t=e.msg,n=e.handleShow,r=e.bgColor;return Object(a.jsxs)(\"div\",{className:\"toast show position-fixed text-light \".concat(r),style:{top:\"5px\",right:\"5px\",zIndex:9,minWidth:\"280px\"},children:[Object(a.jsxs)(\"div\",{className:\"toast-header \".concat(r,\" text-light\"),children:[Object(a.jsx)(\"strong\",{className:\"mr-auto text-light\",children:t.title}),Object(a.jsx)(\"button\",{type:\"button\",className:\"ml-2 mb-1 close text-light\",\"data-dismiss\":\"toast\",style:{outline:\"none\"},onClick:n,children:\"x\"})]}),Object(a.jsx)(\"div\",{className:\"toast-body\",children:t.msg})]})},h=function(){var e=Object(o.useContext)(l.a),t=e.state,n=e.dispatch,r=t.notify;return Object(a.jsxs)(a.Fragment,{children:[r.loading&&Object(a.jsx)(b,{}),r.error&&Object(a.jsx)(j,{msg:{msg:r.error,title:\"Error\"},handleShow:function(){return n({type:\"NOTIFY\",payload:{}})},bgColor:\"bg-danger\"}),r.success&&Object(a.jsx)(j,{msg:{msg:r.success,title:\"Success\"},handleShow:function(){return n({type:\"NOTIFY\",payload:{}})},bgColor:\"bg-success\"})]})},f=n(\"WtUO\"),m=n(\"EFaQ\");function O(e,t){var n;if(\"undefined\"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if(\"string\"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e))||t&&e&&\"number\"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(){var e=Object(o.useContext)(l.a),t=e.state,n=e.dispatch,r=t.modal,c=t.auth,i=Object(s.useRouter)(),d=function(e){n(Object(f.d)(e.data,e.id,e.type)),Object(m.a)(\"user/\".concat(e.id),c.token).then((function(e){return e.err?n({type:\"NOTIFY\",payload:{error:e.err}}):n({type:\"NOTIFY\",payload:{success:e.msg}})}))},u=function(e){Object(m.a)(\"categories/\".concat(e.id),c.token).then((function(t){return t.err?n({type:\"NOTIFY\",payload:{error:t.err}}):(n(Object(f.d)(e.data,e.id,e.type)),n({type:\"NOTIFY\",payload:{success:t.msg}}))}))},p=function(e){n({type:\"NOTIFY\",payload:{loading:!0}}),Object(m.a)(\"product/\".concat(e.id),c.token).then((function(e){return e.err?n({type:\"NOTIFY\",payload:{error:e.err}}):(n({type:\"NOTIFY\",payload:{success:e.msg}}),i.push(\"/\"))}))};return Object(a.jsx)(\"div\",{className:\"modal fade\",id:\"exampleModal\",tabIndex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:Object(a.jsx)(\"div\",{className:\"modal-dialog\",role:\"document\",children:Object(a.jsxs)(\"div\",{className:\"modal-content\",children:[Object(a.jsxs)(\"div\",{className:\"modal-header\",children:[Object(a.jsx)(\"h5\",{className:\"modal-title text-capitalize\",id:\"exampleModalLabel\",children:0!==r.length&&r[0].title}),Object(a.jsx)(\"button\",{type:\"button\",className:\"close\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",children:Object(a.jsx)(\"span\",{\"aria-hidden\":\"true\",children:\"\\xd7\"})})]}),Object(a.jsx)(\"div\",{className:\"modal-body\",children:\"Do you want to delete this item?\"}),Object(a.jsxs)(\"div\",{className:\"modal-footer\",children:[Object(a.jsx)(\"button\",{type:\"button\",className:\"btn btn-secondary\",\"data-dismiss\":\"modal\",onClick:function(){if(0!==r.length){var e,t=O(r);try{for(t.s();!(e=t.n()).done;){var a=e.value;\"ADD_CART\"===a.type&&n(Object(f.d)(a.data,a.id,a.type)),\"ADD_USERS\"===a.type&&d(a),\"ADD_CATEGORIES\"===a.type&&u(a),\"DELETE_PRODUCT\"===a.type&&p(a),n({type:\"ADD_MODAL\",payload:[]})}}catch(o){t.e(o)}finally{t.f()}}},children:\"Yes\"}),Object(a.jsx)(\"button\",{type:\"button\",className:\"btn btn-primary\",\"data-dismiss\":\"modal\",children:\"Cancel\"})]})]})})})};var y=function(e){var t=e.children;return Object(a.jsxs)(\"div\",{className:\"container\",children:[Object(a.jsx)(p,{}),Object(a.jsx)(h,{}),Object(a.jsx)(g,{}),t]})};function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t=e.Component,n=e.pageProps;return Object(a.jsx)(l.b,{children:Object(a.jsx)(y,{children:Object(a.jsx)(t,N({},n))})})}},GcxT:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/_app\",function(){return n(\"1TCz\")}])},p46w:function(e,t,n){var r,a;!function(o){if(void 0===(a=\"function\"===typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=a),!0,e.exports=o(),!!0){var c=window.Cookies,i=window.Cookies=o();i.noConflict=function(){return window.Cookies=c,i}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function a(){}function o(t,n,o){if(\"undefined\"!==typeof document){\"number\"===typeof(o=e({path:\"/\"},a.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():\"\";try{var c=JSON.stringify(n);/^[\\{\\[]/.test(c)&&(n=c)}catch(l){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\\(\\)]/g,escape);var i=\"\";for(var s in o)o[s]&&(i+=\"; \"+s,!0!==o[s]&&(i+=\"=\"+o[s].split(\";\")[0]));return document.cookie=t+\"=\"+n+i}}function c(e,n){if(\"undefined\"!==typeof document){for(var a={},o=document.cookie?document.cookie.split(\"; \"):[],c=0;c<o.length;c++){var i=o[c].split(\"=\"),s=i.slice(1).join(\"=\");n||'\"'!==s.charAt(0)||(s=s.slice(1,-1));try{var l=t(i[0]);if(s=(r.read||r)(s,l)||t(s),n)try{s=JSON.parse(s)}catch(d){}if(a[l]=s,e===l)break}catch(d){}}return e?a[e]:a}}return a.set=o,a.get=function(e){return c(e,!1)},a.getJSON=function(e){return c(e,!0)},a.remove=function(t,n){o(t,\"\",e(n,{expires:-1}))},a.defaults={},a.withConverter=n,a}((function(){}))}))},zPlV:function(e,t,n){}},[[0,0,2,1,3,4]]]);","extractedComments":[]}