{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[4],{EFaQ:function(t,e,r){\"use strict\";r.d(e,\"b\",(function(){return u})),r.d(e,\"d\",(function(){return i})),r.d(e,\"e\",(function(){return s})),r.d(e,\"c\",(function(){return f})),r.d(e,\"a\",(function(){return p}));var n=r(\"o0o1\"),o=r.n(n),a=r(\"HaE+\"),c=\"https://itz-kishor.github.io\",u=function(){var t=Object(a.a)(o.a.mark((function t(e,r){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(\"\".concat(c,\"/api/\").concat(e),{method:\"GET\",headers:{Authorization:r}});case 2:return n=t.sent,t.next=5,n.json();case 5:return a=t.sent,t.abrupt(\"return\",a);case 7:case\"end\":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),i=function(){var t=Object(a.a)(o.a.mark((function t(e,r,n){var a,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(\"\".concat(c,\"/api/\").concat(e),{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:n},body:JSON.stringify(r)});case 2:return a=t.sent,t.next=5,a.json();case 5:return u=t.sent,t.abrupt(\"return\",u);case 7:case\"end\":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),s=function(){var t=Object(a.a)(o.a.mark((function t(e,r,n){var a,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(\"\".concat(c,\"/api/\").concat(e),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\",Authorization:n},body:JSON.stringify(r)});case 2:return a=t.sent,t.next=5,a.json();case 5:return u=t.sent,t.abrupt(\"return\",u);case 7:case\"end\":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),f=function(){var t=Object(a.a)(o.a.mark((function t(e,r,n){var a,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(\"\".concat(c,\"/api/\").concat(e),{method:\"PATCH\",headers:{\"Content-Type\":\"application/json\",Authorization:n},body:JSON.stringify(r)});case 2:return a=t.sent,t.next=5,a.json();case 5:return u=t.sent,t.abrupt(\"return\",u);case 7:case\"end\":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),p=function(){var t=Object(a.a)(o.a.mark((function t(e,r){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(\"\".concat(c,\"/api/\").concat(e),{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\",Authorization:r}});case 2:return n=t.sent,t.next=5,n.json();case 5:return a=t.sent,t.abrupt(\"return\",a);case 7:case\"end\":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},\"HaE+\":function(t,e,r){\"use strict\";function n(t,e,r,n,o,a,c){try{var u=t[a](c),i=u.value}catch(s){return void r(s)}u.done?e(i):Promise.resolve(i).then(n,o)}function o(t){return function(){var e=this,r=arguments;return new Promise((function(o,a){var c=t.apply(e,r);function u(t){n(c,o,a,u,i,\"next\",t)}function i(t){n(c,o,a,u,i,\"throw\",t)}u(void 0)}))}}r.d(e,\"a\",(function(){return o}))},KQm4:function(t,e,r){\"use strict\";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function o(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"===typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===r&&t.constructor&&(r=t.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(t):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}r.d(e,\"a\",(function(){return o}))},WtUO:function(t,e,r){\"use strict\";r.d(e,\"a\",(function(){return u})),r.d(e,\"b\",(function(){return i})),r.d(e,\"c\",(function(){return s})),r.d(e,\"e\",(function(){return f})),r.d(e,\"d\",(function(){return p})),r.d(e,\"f\",(function(){return l}));var n=r(\"rePB\"),o=r(\"KQm4\");function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){Object(n.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var u={NOTIFY:\"NOTIFY\",AUTH:\"AUTH\",ADD_CART:\"ADD_CART\",ADD_MODAL:\"ADD_MODAL\",ADD_ORDERS:\"ADD_ORDERS\",ADD_USERS:\"ADD_USERS\",ADD_CATEGORIES:\"ADD_CATEGORIES\"},i=function(t,e){return 0===t.inStock?{type:\"NOTIFY\",payload:{error:\"This product is out of stock.\"}}:e.every((function(e){return e._id!==t._id}))?{type:\"ADD_CART\",payload:[].concat(Object(o.a)(e),[c(c({},t),{},{quantity:1})])}:{type:\"NOTIFY\",payload:{error:\"The product has been added to cart.\"}}},s=function(t,e){var r=Object(o.a)(t);return r.forEach((function(t){t._id===e&&(t.quantity-=1)})),{type:\"ADD_CART\",payload:r}},f=function(t,e){var r=Object(o.a)(t);return r.forEach((function(t){t._id===e&&(t.quantity+=1)})),{type:\"ADD_CART\",payload:r}},p=function(t,e,r){return{type:r,payload:t.filter((function(t){return t._id!==e}))}},l=function(t,e,r,n){return{type:n,payload:t.map((function(t){return t._id===e?r:t}))}}},YFqc:function(t,e,r){t.exports=r(\"cTJO\")},cTJO:function(t,e,r){\"use strict\";var n=r(\"J4zp\"),o=r(\"284h\");e.__esModule=!0,e.default=void 0;var a,c=o(r(\"q1tI\")),u=r(\"elyg\"),i=r(\"nOHt\"),s=new Map,f=window.IntersectionObserver,p={};var l=function(t,e){var r=a||(f?a=new f((function(t){t.forEach((function(t){if(s.has(t.target)){var e=s.get(t.target);(t.isIntersecting||t.intersectionRatio>0)&&(a.unobserve(t.target),s.delete(t.target),e())}}))}),{rootMargin:\"200px\"}):void 0);return r?(r.observe(t),s.set(t,e),function(){try{r.unobserve(t)}catch(e){console.error(e)}s.delete(t)}):function(){}};function d(t,e,r,n){(0,u.isLocalURL)(e)&&(t.prefetch(e,r,n).catch((function(t){0})),p[e+\"%\"+r]=!0)}var y=function(t){var e=!1!==t.prefetch,r=(0,i.useRouter)(),o=r&&r.pathname||\"/\",a=c.default.useMemo((function(){var e=(0,u.resolveHref)(o,t.href,!0),r=n(e,2),a=r[0],c=r[1];return{href:a,as:t.as?(0,u.resolveHref)(o,t.as):c||a}}),[o,t.href,t.as]),s=a.href,y=a.as,h=t.children,O=t.replace,b=t.shallow,v=t.scroll,D=t.locale;\"string\"===typeof h&&(h=c.default.createElement(\"a\",null,h));var j=c.Children.only(h),A=j&&\"object\"===typeof j&&j.ref,g=c.default.useRef(),_={ref:c.default.useCallback((function(t){(g.current&&(g.current(),g.current=void 0),e&&f&&t&&t.tagName&&(0,u.isLocalURL)(s))&&(p[s+\"%\"+y]||(g.current=l(t,(function(){d(r,s,y,{locale:\"undefined\"!==typeof D?D:r&&r.locale})}))));A&&(\"function\"===typeof A?A(t):\"object\"===typeof A&&(A.current=t))}),[e,A,s,y,r,D]),onClick:function(t){j.props&&\"function\"===typeof j.props.onClick&&j.props.onClick(t),t.defaultPrevented||function(t,e,r,n,o,a,c,i){(\"A\"!==t.currentTarget.nodeName||!function(t){var e=t.currentTarget.target;return e&&\"_self\"!==e||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which}(t)&&(0,u.isLocalURL)(r))&&(t.preventDefault(),null==c&&(c=n.indexOf(\"#\")<0),e[o?\"replace\":\"push\"](r,n,{shallow:a,locale:i}).then((function(t){t&&c&&(window.scrollTo(0,0),document.body.focus())})))}(t,r,s,y,O,b,v,D)}};return e&&(_.onMouseEnter=function(t){(0,u.isLocalURL)(s)&&(j.props&&\"function\"===typeof j.props.onMouseEnter&&j.props.onMouseEnter(t),d(r,s,y,{priority:!0}))}),(t.passHref||\"a\"===j.type&&!(\"href\"in j.props))&&(_.href=(0,u.addBasePath)((0,u.addLocale)(y,\"undefined\"!==typeof D?D:r&&r.locale,r&&r.defaultLocale))),c.default.cloneElement(j,_)};e.default=y},\"qG/y\":function(t,e,r){\"use strict\";r.d(e,\"a\",(function(){return p})),r.d(e,\"b\",(function(){return l}));var n=r(\"nKUr\"),o=r(\"q1tI\"),a=r(\"rePB\"),c=r(\"WtUO\");function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){Object(a.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var s=function(t,e){switch(e.type){case c.a.NOTIFY:return i(i({},t),{},{notify:e.payload});case c.a.AUTH:return i(i({},t),{},{auth:e.payload});case c.a.ADD_CART:return i(i({},t),{},{cart:e.payload});case c.a.ADD_MODAL:return i(i({},t),{},{modal:e.payload});case c.a.ADD_ORDERS:return i(i({},t),{},{orders:e.payload});case c.a.ADD_USERS:return i(i({},t),{},{users:e.payload});case c.a.ADD_CATEGORIES:return i(i({},t),{},{categories:e.payload});default:return t}},f=r(\"EFaQ\"),p=Object(o.createContext)(),l=function(t){var e=t.children,r=Object(o.useReducer)(s,{notify:{},auth:{},cart:[],modal:[],orders:[],users:[],categories:[]}),a=r[0],c=r[1],u=a.cart,i=a.auth;return Object(o.useEffect)((function(){localStorage.getItem(\"firstLogin\")&&Object(f.b)(\"auth/accessToken\").then((function(t){if(t.err)return localStorage.removeItem(\"firstLogin\");c({type:\"AUTH\",payload:{token:t.access_token,user:t.user}})})),Object(f.b)(\"categories\").then((function(t){if(t.err)return c({type:\"NOTIFY\",payload:{error:t.err}});c({type:\"ADD_CATEGORIES\",payload:t.categories})}))}),[]),Object(o.useEffect)((function(){var t=JSON.parse(localStorage.getItem(\"__next__cart01__devat\"));t&&c({type:\"ADD_CART\",payload:t})}),[]),Object(o.useEffect)((function(){localStorage.setItem(\"__next__cart01__devat\",JSON.stringify(u))}),[u]),Object(o.useEffect)((function(){i.token?(Object(f.b)(\"order\",i.token).then((function(t){if(t.err)return c({type:\"NOTIFY\",payload:{error:t.err}});c({type:\"ADD_ORDERS\",payload:t.orders})})),\"admin\"===i.user.role&&Object(f.b)(\"user\",i.token).then((function(t){if(t.err)return c({type:\"NOTIFY\",payload:{error:t.err}});c({type:\"ADD_USERS\",payload:t.users})}))):(c({type:\"ADD_ORDERS\",payload:[]}),c({type:\"ADD_USERS\",payload:[]}))}),[i.token]),Object(n.jsx)(p.Provider,{value:{state:a,dispatch:c},children:e})}},rePB:function(t,e,r){\"use strict\";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,\"a\",(function(){return n}))}}]);","extractedComments":[]}