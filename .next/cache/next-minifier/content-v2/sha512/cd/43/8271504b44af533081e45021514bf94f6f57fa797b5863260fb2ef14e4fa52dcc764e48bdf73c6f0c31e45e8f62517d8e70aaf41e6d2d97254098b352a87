{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[5],{EFaQ:function(e,t,r){\"use strict\";r.d(t,\"b\",(function(){return u})),r.d(t,\"d\",(function(){return i})),r.d(t,\"e\",(function(){return f})),r.d(t,\"c\",(function(){return s})),r.d(t,\"a\",(function(){return p}));var n=r(\"o0o1\"),o=r.n(n),a=r(\"HaE+\"),c=\"http://localhost:3000\",u=function(){var e=Object(a.a)(o.a.mark((function e(t,r){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"\".concat(c,\"/api/\").concat(t),{method:\"GET\",headers:{Authorization:r}});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt(\"return\",a);case 7:case\"end\":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),i=function(){var e=Object(a.a)(o.a.mark((function e(t,r,n){var a,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"\".concat(c,\"/api/\").concat(t),{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:n},body:JSON.stringify(r)});case 2:return a=e.sent,e.next=5,a.json();case 5:return u=e.sent,e.abrupt(\"return\",u);case 7:case\"end\":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(a.a)(o.a.mark((function e(t,r,n){var a,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"\".concat(c,\"/api/\").concat(t),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\",Authorization:n},body:JSON.stringify(r)});case 2:return a=e.sent,e.next=5,a.json();case 5:return u=e.sent,e.abrupt(\"return\",u);case 7:case\"end\":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),s=function(){var e=Object(a.a)(o.a.mark((function e(t,r,n){var a,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"\".concat(c,\"/api/\").concat(t),{method:\"PATCH\",headers:{\"Content-Type\":\"application/json\",Authorization:n},body:JSON.stringify(r)});case 2:return a=e.sent,e.next=5,a.json();case 5:return u=e.sent,e.abrupt(\"return\",u);case 7:case\"end\":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(a.a)(o.a.mark((function e(t,r){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"\".concat(c,\"/api/\").concat(t),{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\",Authorization:r}});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt(\"return\",a);case 7:case\"end\":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},\"HaE+\":function(e,t,r){\"use strict\";function n(e,t,r,n,o,a,c){try{var u=e[a](c),i=u.value}catch(f){return void r(f)}u.done?t(i):Promise.resolve(i).then(n,o)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var c=e.apply(t,r);function u(e){n(c,o,a,u,i,\"next\",e)}function i(e){n(c,o,a,u,i,\"throw\",e)}u(void 0)}))}}r.d(t,\"a\",(function(){return o}))},KQm4:function(e,t,r){\"use strict\";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if(\"string\"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}r.d(t,\"a\",(function(){return o}))},WtUO:function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return u})),r.d(t,\"b\",(function(){return i})),r.d(t,\"c\",(function(){return f})),r.d(t,\"e\",(function(){return s})),r.d(t,\"d\",(function(){return p})),r.d(t,\"f\",(function(){return l}));var n=r(\"rePB\"),o=r(\"KQm4\");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u={NOTIFY:\"NOTIFY\",AUTH:\"AUTH\",ADD_CART:\"ADD_CART\",ADD_MODAL:\"ADD_MODAL\",ADD_ORDERS:\"ADD_ORDERS\",ADD_USERS:\"ADD_USERS\",ADD_CATEGORIES:\"ADD_CATEGORIES\"},i=function(e,t){return 0===e.inStock?{type:\"NOTIFY\",payload:{error:\"This product is out of stock.\"}}:t.every((function(t){return t._id!==e._id}))?{type:\"ADD_CART\",payload:[].concat(Object(o.a)(t),[c(c({},e),{},{quantity:1})])}:{type:\"NOTIFY\",payload:{error:\"The product has been added to cart.\"}}},f=function(e,t){var r=Object(o.a)(e);return r.forEach((function(e){e._id===t&&(e.quantity-=1)})),{type:\"ADD_CART\",payload:r}},s=function(e,t){var r=Object(o.a)(e);return r.forEach((function(e){e._id===t&&(e.quantity+=1)})),{type:\"ADD_CART\",payload:r}},p=function(e,t,r){return{type:r,payload:e.filter((function(e){return e._id!==t}))}},l=function(e,t,r,n){return{type:n,payload:e.map((function(e){return e._id===t?r:e}))}}},YFqc:function(e,t,r){e.exports=r(\"cTJO\")},cTJO:function(e,t,r){\"use strict\";var n=r(\"J4zp\"),o=r(\"284h\");t.__esModule=!0,t.default=void 0;var a,c=o(r(\"q1tI\")),u=r(\"elyg\"),i=r(\"nOHt\"),f=new Map,s=window.IntersectionObserver,p={};var l=function(e,t){var r=a||(s?a=new s((function(e){e.forEach((function(e){if(f.has(e.target)){var t=f.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(a.unobserve(e.target),f.delete(e.target),t())}}))}),{rootMargin:\"200px\"}):void 0);return r?(r.observe(e),f.set(e,t),function(){try{r.unobserve(e)}catch(t){console.error(t)}f.delete(e)}):function(){}};function d(e,t,r,n){(0,u.isLocalURL)(t)&&(e.prefetch(t,r,n).catch((function(e){0})),p[t+\"%\"+r]=!0)}var y=function(e){var t=!1!==e.prefetch,r=(0,i.useRouter)(),o=r&&r.pathname||\"/\",a=c.default.useMemo((function(){var t=(0,u.resolveHref)(o,e.href,!0),r=n(t,2),a=r[0],c=r[1];return{href:a,as:e.as?(0,u.resolveHref)(o,e.as):c||a}}),[o,e.href,e.as]),f=a.href,y=a.as,h=e.children,O=e.replace,b=e.shallow,v=e.scroll,D=e.locale;\"string\"===typeof h&&(h=c.default.createElement(\"a\",null,h));var g=c.Children.only(h),j=g&&\"object\"===typeof g&&g.ref,m=c.default.useRef(),A={ref:c.default.useCallback((function(e){(m.current&&(m.current(),m.current=void 0),t&&s&&e&&e.tagName&&(0,u.isLocalURL)(f))&&(p[f+\"%\"+y]||(m.current=l(e,(function(){d(r,f,y,{locale:\"undefined\"!==typeof D?D:r&&r.locale})}))));j&&(\"function\"===typeof j?j(e):\"object\"===typeof j&&(j.current=e))}),[t,j,f,y,r,D]),onClick:function(e){g.props&&\"function\"===typeof g.props.onClick&&g.props.onClick(e),e.defaultPrevented||function(e,t,r,n,o,a,c,i){(\"A\"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&\"_self\"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,u.isLocalURL)(r))&&(e.preventDefault(),null==c&&(c=n.indexOf(\"#\")<0),t[o?\"replace\":\"push\"](r,n,{shallow:a,locale:i}).then((function(e){e&&c&&(window.scrollTo(0,0),document.body.focus())})))}(e,r,f,y,O,b,v,D)}};return t&&(A.onMouseEnter=function(e){(0,u.isLocalURL)(f)&&(g.props&&\"function\"===typeof g.props.onMouseEnter&&g.props.onMouseEnter(e),d(r,f,y,{priority:!0}))}),(e.passHref||\"a\"===g.type&&!(\"href\"in g.props))&&(A.href=(0,u.addBasePath)((0,u.addLocale)(y,\"undefined\"!==typeof D?D:r&&r.locale,r&&r.defaultLocale))),c.default.cloneElement(g,A)};t.default=y},p46w:function(e,t,r){var n,o;!function(a){if(void 0===(o=\"function\"===typeof(n=a)?n.call(t,r,t,e):n)||(e.exports=o),!0,e.exports=a(),!!0){var c=window.Cookies,u=window.Cookies=a();u.noConflict=function(){return window.Cookies=c,u}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function o(){}function a(t,r,a){if(\"undefined\"!==typeof document){\"number\"===typeof(a=e({path:\"/\"},o.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():\"\";try{var c=JSON.stringify(r);/^[\\{\\[]/.test(c)&&(r=c)}catch(f){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\\(\\)]/g,escape);var u=\"\";for(var i in a)a[i]&&(u+=\"; \"+i,!0!==a[i]&&(u+=\"=\"+a[i].split(\";\")[0]));return document.cookie=t+\"=\"+r+u}}function c(e,r){if(\"undefined\"!==typeof document){for(var o={},a=document.cookie?document.cookie.split(\"; \"):[],c=0;c<a.length;c++){var u=a[c].split(\"=\"),i=u.slice(1).join(\"=\");r||'\"'!==i.charAt(0)||(i=i.slice(1,-1));try{var f=t(u[0]);if(i=(n.read||n)(i,f)||t(i),r)try{i=JSON.parse(i)}catch(s){}if(o[f]=i,e===f)break}catch(s){}}return e?o[e]:o}}return o.set=a,o.get=function(e){return c(e,!1)},o.getJSON=function(e){return c(e,!0)},o.remove=function(t,r){a(t,\"\",e(r,{expires:-1}))},o.defaults={},o.withConverter=r,o}((function(){}))}))},\"qG/y\":function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return p})),r.d(t,\"b\",(function(){return l}));var n=r(\"nKUr\"),o=r(\"q1tI\"),a=r(\"rePB\"),c=r(\"WtUO\");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(e,t){switch(t.type){case c.a.NOTIFY:return i(i({},e),{},{notify:t.payload});case c.a.AUTH:return i(i({},e),{},{auth:t.payload});case c.a.ADD_CART:return i(i({},e),{},{cart:t.payload});case c.a.ADD_MODAL:return i(i({},e),{},{modal:t.payload});case c.a.ADD_ORDERS:return i(i({},e),{},{orders:t.payload});case c.a.ADD_USERS:return i(i({},e),{},{users:t.payload});case c.a.ADD_CATEGORIES:return i(i({},e),{},{categories:t.payload});default:return e}},s=r(\"EFaQ\"),p=Object(o.createContext)(),l=function(e){var t=e.children,r=Object(o.useReducer)(f,{notify:{},auth:{},cart:[],modal:[],orders:[],users:[],categories:[]}),a=r[0],c=r[1],u=a.cart,i=a.auth;return Object(o.useEffect)((function(){localStorage.getItem(\"firstLogin\")&&Object(s.b)(\"auth/accessToken\").then((function(e){if(e.err)return localStorage.removeItem(\"firstLogin\");c({type:\"AUTH\",payload:{token:e.access_token,user:e.user}})})),Object(s.b)(\"categories\").then((function(e){if(e.err)return c({type:\"NOTIFY\",payload:{error:e.err}});c({type:\"ADD_CATEGORIES\",payload:e.categories})}))}),[]),Object(o.useEffect)((function(){var e=JSON.parse(localStorage.getItem(\"__next__cart01__devat\"));e&&c({type:\"ADD_CART\",payload:e})}),[]),Object(o.useEffect)((function(){localStorage.setItem(\"__next__cart01__devat\",JSON.stringify(u))}),[u]),Object(o.useEffect)((function(){i.token?(Object(s.b)(\"order\",i.token).then((function(e){if(e.err)return c({type:\"NOTIFY\",payload:{error:e.err}});c({type:\"ADD_ORDERS\",payload:e.orders})})),\"admin\"===i.user.role&&Object(s.b)(\"user\",i.token).then((function(e){if(e.err)return c({type:\"NOTIFY\",payload:{error:e.err}});c({type:\"ADD_USERS\",payload:e.users})}))):(c({type:\"ADD_ORDERS\",payload:[]}),c({type:\"ADD_USERS\",payload:[]}))}),[i.token]),Object(n.jsx)(p.Provider,{value:{state:a,dispatch:c},children:t})}},rePB:function(e,t,r){\"use strict\";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,\"a\",(function(){return n}))}}]);","extractedComments":[]}